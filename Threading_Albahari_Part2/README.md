# Основы синхронизации (Synchronization Essentials)

До сих пор мы описали, как запустить задачу в потоке, 
настроить поток и передавать данные в обоих направлениях. <br />
Мы также описали, как локальные переменные являются частными для потока 
и как ссылки могут совместно использоваться потоками, <br />
что позволяет им взаимодействовать через общие поля.

Следующий шаг - **синхронизация**: согласование действий потоков для предсказуемого результата. <br />
Синхронизация особенно важна, когда потоки обращаются к одним и тем же данным; 
в этой области на удивление легко сесть на мель.

## Простые методы блокировки

Они ждут завершения другого потока или истечения определенного периода времени. <br />
**Sleep**, **Join** и **Task.Wait** являются простыми методами блокировки.

## Конструкции блокировки

Они ограничивают количество потоков, которые могут выполнять некоторые действия или выполнять часть кода за раз. 
Наиболее распространены эксклюзивные конструкции блокировки - они позволяют одновременно подключаться только одному потоку 
и позволяют конкурирующим потокам получать доступ к общим данным, не мешая друг другу. 

Стандартными конструкциями исключительной блокировки являются 
**lock(Monitor.Enter/ Monitor.Exit)**, **Mutex**, и **SpinLock**. 

Неисключительными блокирующими конструкциями являются **Semaphore**, **SemaphoreSlim** и блокировки чтения / записи .

## Сигнальные конструкции

Это позволяет одному потоку приостанавливаться до получения уведомления от другого, 
избегая необходимости в неэффективном опросе. 

Есть два широко используемых сигнальных устройств: **event wait handles** и методы **Wait/Pulse** класса Monitor. <br/>
Framework 4.0 вводит **CountdownEvent** и **Barrier** классы.

## Неблокирующие конструкции синхронизации

Они защищают доступ к общему полю, вызывая примитивы процессора. 
В CLR и C # предоставляют следующую неблокируемую конструкцию: 
**Thread.MemoryBarrier**, 
**Thread.VolatileRead**, 
**Thread.VolatileWrite**, по **volatile** ключевому слову, и **Interlocked** класс.

Блокировка важна для всех, кроме последней категории. Кратко рассмотрим эту концепцию.